{% from "forms.html" import render_form_field %}
{% extends 'base.html' %}


{% block page_title %}  {% endblock %}

{% block content %} 
<div class="grid-container single-wide">
    <div class="grid-item">
            <div class="title"><h1>ENTER NEW TEST RESULTS</h1></div>
            
            <form name="add_test" method="post" class="form">
                <div class="form__container">
                    {{ form.hidden_tag() }}

                    {{ render_form_field(form.test_date) }}
                    {{ render_form_field(form.test_time) }}
                    {{ render_form_field(form.alk) }}
                    {{ render_form_field(form.po4_ppb) }}
                    {{ render_form_field(form.no3_ppm) }}
                    {{ render_form_field(form.cal) }}
                    {{ render_form_field(form.mg) }}
                    {{ render_form_field(form.sg) }}
                  
                    {{ form.submit(class="btn btn-custom-1", id="submit-test") }}

                    </div>
                </div>
            </form>
            <script>
            // Prevent form reset when tank context changes (page reload)
            document.addEventListener('DOMContentLoaded', function() {
                if (window.performance && window.performance.navigation.type === window.performance.navigation.TYPE_RELOAD) {
                    if (window.history && window.history.replaceState) {
                        window.history.replaceState({}, document.title, window.location.pathname + window.location.search);
                    }
                }
            });
            </script>

    </div>
</div>

{% endblock %}